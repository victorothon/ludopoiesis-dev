import{b as Ae,a as D,f as K,c as Xe}from"./b3-Pe2so.js";import{i as re}from"./BXPxOHRk.js";import{E as ie,D as Qe,aV as ze,A as C,K as Z,M as J,B as fe,g as F,W as Ze,Y as Je,Z as Te,J as oe,L as P,G as $e,aP as ea,aE as Ce,O as aa,aW as $,S as ce,aX as ta,U as ra,e as sa,aY as na,aO as de,aZ as ia,a_ as oa,m as _e,aq as ke,a$ as la,P as je,R as xe,b0 as le,ap as he,b1 as fa,b2 as ca,aM as ua,Q as va,I as Fe,t as B,a5 as He,b3 as da,aQ as _a,aK as ha,af as pa,b4 as ga,b5 as ma,V as ba,b6 as Ea,aj as wa,N as ya,u as M,b7 as Aa,b8 as Ta,i as V,aI as De,b9 as Ca,ba as ka,bb as Na,bc as Sa,bd as qa,p as se,c as E,r as b,d as O,f as L,b as ne,s as Pe,h as Ma,n as Ia}from"./DuSW7asp.js";import{a as La,s as ee,e as j}from"./BiHBEveS.js";import{p as H,i as Ne,s as Be,a as Ke}from"./DXT5HSOw.js";import{w as U}from"./VBFvlmmS.js";let Se=!1;function Oa(){Se||(Se=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function Ra(e,a){return a}function za(e,a,t){for(var r=[],c=a.length,n,s=a.length,u=0;u<c;u++){let h=a[u];xe(h,()=>{if(n){if(n.pending.delete(h),n.done.add(h),n.pending.size===0){var v=e.outrogroups;ue(de(n.done)),v.delete(n),v.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var o=r.length===0&&t!==null;if(o){var f=t,i=f.parentNode;ua(i),i.append(f),e.items.clear()}ue(a,!o)}else n={pending:new Set(a),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(n)}function ue(e,a=!0){for(var t=0;t<e.length;t++)va(e[t],a)}var qe;function $a(e,a,t,r,c,n=null){var s=e,u=new Map,o=(a&ze)!==0;if(o){var f=e;s=C?Z(J(f)):f.appendChild(ie())}C&&fe();var i=null,h=sa(()=>{var d=t();return na(d)?d:d==null?[]:de(d)}),v,g=!0;function p(){l.fallback=i,ja(l,v,s,a,r),i!==null&&(v.length===0?i.f&$?(i.f^=$,G(i,null,s)):je(i):xe(i,()=>{i=null}))}var _=Qe(()=>{v=F(h);var d=v.length;let w=!1;if(C){var y=Ze(s)===Je;y!==(d===0)&&(s=Te(),Z(s),oe(!1),w=!0)}for(var A=new Set,N=aa,S=ra(),m=0;m<d;m+=1){C&&P.nodeType===$e&&P.data===ea&&(s=P,w=!0,oe(!1));var T=v[m],k=r(T,m),q=g?null:u.get(k);q?(q.v&&Ce(q.v,T),q.i&&Ce(q.i,m),S&&N.unskip_effect(q.e)):(q=xa(u,g?s:qe??(qe=ie()),T,k,m,c,a,t),g||(q.e.f|=$),u.set(k,q)),A.add(k)}if(d===0&&n&&!i&&(g?i=ce(()=>n(s)):(i=ce(()=>n(qe??(qe=ie()))),i.f|=$)),d>A.size&&ta(),C&&d>0&&Z(Te()),!g)if(S){for(const[W,X]of u)A.has(W)||N.skip_effect(X.e);N.oncommit(p),N.ondiscard(()=>{})}else p();w&&oe(!0),F(h)}),l={effect:_,items:u,outrogroups:null,fallback:i};g=!1,C&&(s=P)}function Y(e){for(;e!==null&&!(e.f&fa);)e=e.next;return e}function ja(e,a,t,r,c){var q,W,X,pe,ge,me,be,Ee,we;var n=(r&ca)!==0,s=a.length,u=e.items,o=Y(e.effect.first),f,i=null,h,v=[],g=[],p,_,l,d;if(n)for(d=0;d<s;d+=1)p=a[d],_=c(p,d),l=u.get(_).e,l.f&$||((W=(q=l.nodes)==null?void 0:q.a)==null||W.measure(),(h??(h=new Set)).add(l));for(d=0;d<s;d+=1){if(p=a[d],_=c(p,d),l=u.get(_).e,e.outrogroups!==null)for(const R of e.outrogroups)R.pending.delete(l),R.done.delete(l);if(l.f&$)if(l.f^=$,l===o)G(l,null,t);else{var w=i?i.next:o;l===e.effect.last&&(e.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),x(e,i,l),x(e,l,w),G(l,w,t),i=l,v=[],g=[],o=Y(i.next);continue}if(l.f&le&&(je(l),n&&((pe=(X=l.nodes)==null?void 0:X.a)==null||pe.unfix(),(h??(h=new Set)).delete(l))),l!==o){if(f!==void 0&&f.has(l)){if(v.length<g.length){var y=g[0],A;i=y.prev;var N=v[0],S=v[v.length-1];for(A=0;A<v.length;A+=1)G(v[A],y,t);for(A=0;A<g.length;A+=1)f.delete(g[A]);x(e,N.prev,S.next),x(e,i,N),x(e,S,y),o=y,i=S,d-=1,v=[],g=[]}else f.delete(l),G(l,o,t),x(e,l.prev,l.next),x(e,l,i===null?e.effect.first:i.next),x(e,i,l),i=l;continue}for(v=[],g=[];o!==null&&o!==l;)(f??(f=new Set)).add(o),g.push(o),o=Y(o.next);if(o===null)continue}l.f&$||v.push(l),i=l,o=Y(l.next)}if(e.outrogroups!==null){for(const R of e.outrogroups)R.pending.size===0&&(ue(de(R.done)),(ge=e.outrogroups)==null||ge.delete(R));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var m=[];if(f!==void 0)for(l of f)l.f&le||m.push(l);for(;o!==null;)!(o.f&le)&&o!==e.fallback&&m.push(o),o=Y(o.next);var T=m.length;if(T>0){var k=r&ze&&s===0?t:null;if(n){for(d=0;d<T;d+=1)(be=(me=m[d].nodes)==null?void 0:me.a)==null||be.measure();for(d=0;d<T;d+=1)(we=(Ee=m[d].nodes)==null?void 0:Ee.a)==null||we.fix()}za(e,m,k)}}n&&he(()=>{var R,ye;if(h!==void 0)for(l of h)(ye=(R=l.nodes)==null?void 0:R.a)==null||ye.apply()})}function xa(e,a,t,r,c,n,s,u){var o=s&ia?s&oa?ke(t):_e(t,!1,!1):null,f=s&la?ke(c):null;return{v:o,i:f,e:ce(()=>(n(a,o??t,f??c,u),()=>{e.delete(r)}))}}function G(e,a,t){if(e.nodes)for(var r=e.nodes.start,c=e.nodes.end,n=a&&!(a.f&$)?a.nodes.start:t;r!==null;){var s=Fe(r);if(n.before(r),r===c)return;r=s}}function x(e,a,t){a===null?e.effect.first=t:a.next=t,t===null?e.effect.last=a:t.prev=a}function Ve(e,a,t=!1,r=!1,c=!1){var n=e,s="";B(()=>{var u=He;if(s===(s=a()??"")){C&&fe();return}if(u.nodes!==null&&(da(u.nodes.start,u.nodes.end),u.nodes=null),s!==""){if(C){P.data;for(var o=fe(),f=o;o!==null&&(o.nodeType!==$e||o.data!=="");)f=o,o=Fe(o);if(o===null)throw _a(),ha;Ae(P,f),n=Z(o);return}var i=t?ga:r?ma:void 0,h=pa(t?"svg":r?"math":"template",i);h.innerHTML=s;var v=t||r?h:h.content;if(Ae(J(v),v.lastChild),t||r)for(;J(v);)n.before(J(v));else n.before(v)}})}const Fa=()=>performance.now(),z={tick:e=>requestAnimationFrame(e),now:()=>Fa(),tasks:new Set};function Ye(){const e=z.now();z.tasks.forEach(a=>{a.c(e)||(z.tasks.delete(a),a.f())}),z.tasks.size!==0&&z.tick(Ye)}function Ha(e){let a;return z.tasks.size===0&&z.tick(Ye),{promise:new Promise(t=>{z.tasks.add(a={c:e,f:t})}),abort(){z.tasks.delete(a)}}}function ae(e,a){De(()=>{e.dispatchEvent(new CustomEvent(a))})}function Da(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Me(e){const a={},t=e.split(";");for(const r of t){const[c,n]=r.split(":");if(!c||n===void 0)break;const s=Da(c.trim());a[s]=n.trim()}return a}const Pa=e=>e;function Ie(e,a,t,r){var l;var c=(e&Aa)!==0,n="both",s,u=a.inert,o=a.style.overflow,f,i;function h(){return De(()=>s??(s=t()(a,(r==null?void 0:r())??{},{direction:n})))}var v={is_global:c,in(){a.inert=u,f=ve(a,h(),i,1,()=>{ae(a,"introend"),f==null||f.abort(),f=s=void 0,a.style.overflow=o})},out(d){a.inert=!0,i=ve(a,h(),f,0,()=>{ae(a,"outroend"),d==null||d()})},stop:()=>{f==null||f.abort(),i==null||i.abort()}},g=He;if(((l=g.nodes).t??(l.t=[])).push(v),La){var p=c;if(!p){for(var _=g.parent;_&&_.f&ba;)for(;(_=_.parent)&&!(_.f&Ea););p=!_||(_.f&wa)!==0}p&&ya(()=>{M(()=>v.in())})}}function ve(e,a,t,r,c){var n=r===1;if(Ta(a)){var s,u=!1;return he(()=>{if(!u){var l=a({direction:n?"in":"out"});s=ve(e,l,t,r,c)}}),{abort:()=>{u=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration)&&!(a!=null&&a.delay))return ae(e,n?"introstart":"outrostart"),c(),{abort:V,deactivate:V,reset:V,t:()=>r};const{delay:o=0,css:f,tick:i,easing:h=Pa}=a;var v=[];if(n&&t===void 0&&(i&&i(0,1),f)){var g=Me(f(0,1));v.push(g,g)}var p=()=>1-r,_=e.animate(v,{duration:o,fill:"forwards"});return _.onfinish=()=>{_.cancel(),ae(e,n?"introstart":"outrostart");var l=(t==null?void 0:t.t())??1-r;t==null||t.abort();var d=r-l,w=a.duration*Math.abs(d),y=[];if(w>0){var A=!1;if(f)for(var N=Math.ceil(w/16.666666666666668),S=0;S<=N;S+=1){var m=l+d*h(S/N),T=Me(f(m,1-m));y.push(T),A||(A=T.overflow==="hidden")}A&&(e.style.overflow="hidden"),p=()=>{var k=_.currentTime;return l+d*h(k/w)},i&&Ha(()=>{if(_.playState!=="running")return!1;var k=p();return i(k,1-k),!0})}_=e.animate(y,{duration:w,fill:"forwards"}),_.onfinish=()=>{p=()=>r,i==null||i(r,1-r),c()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=V)},deactivate:()=>{c=V},reset:()=>{r===0&&(i==null||i(1,0))},t:()=>p()}}const Le=[...` 	
\r\fÂ \v\uFEFF`];function Ba(e,a,t){var r=e==null?"":""+e;if(t){for(var c of Object.keys(t))if(t[c])r=r?r+" "+c:c;else if(r.length)for(var n=c.length,s=0;(s=r.indexOf(c,s))>=0;){var u=s+n;(s===0||Le.includes(r[s-1]))&&(u===r.length||Le.includes(r[u]))?r=(s===0?"":r.substring(0,s))+r.substring(u+1):s=u}}return r===""?null:r}function Ka(e,a){return e==null?null:String(e)}function te(e,a,t,r,c,n){var s=e.__className;if(C||s!==t||s===void 0){var u=Ba(t,r,n);(!C||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=t}else if(n&&c!==n)for(var o in n){var f=!!n[o];(c==null||f!==!!c[o])&&e.classList.toggle(o,f)}return n}function Va(e,a,t,r){var c=e.__style;if(C||c!==a){var n=Ka(a);(!C||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=a}return r}const Ya=Symbol("is custom element"),Ga=Symbol("is html"),Ua=Na?"link":"LINK";function Wa(e){if(C){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;I(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var c=e.checked;I(e,"checked",null),e.checked=c}}};e.__on_r=t,he(t),Oa()}}function Xa(e,a){var t=Ge(e);t.checked!==(t.checked=a??void 0)&&(e.checked=a)}function I(e,a,t,r){var c=Ge(e);C&&(c[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName===Ua)||c[a]!==(c[a]=t)&&(a==="loading"&&(e[ka]=t),t==null?e.removeAttribute(a):typeof t!="string"&&Qa(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function Ge(e){return e.__attributes??(e.__attributes={[Ya]:e.nodeName.includes("-"),[Ga]:e.namespaceURI===Ca})}var Oe=new Map;function Qa(e){var a=e.getAttribute("is")||e.nodeName,t=Oe.get(a);if(t)return t;Oe.set(a,t=[]);for(var r,c=e,n=Element.prototype;n!==c;){r=qa(c);for(var s in r)r[s].set&&t.push(s);c=Sa(c)}return t}const Za=e=>e;function Ue(e){const a=e-1;return a*a*a+1}function Re(e){const a=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return a?[parseFloat(a[1]),a[2]||"px"]:[e,"px"]}function Ja(e,{delay:a=0,duration:t=400,easing:r=Za}={}){const c=+getComputedStyle(e).opacity;return{delay:a,duration:t,easing:r,css:n=>`opacity: ${n*c}`}}function mt(e,{delay:a=0,duration:t=400,easing:r=Ue,x:c=0,y:n=0,opacity:s=0}={}){const u=getComputedStyle(e),o=+u.opacity,f=u.transform==="none"?"":u.transform,i=o*(1-s),[h,v]=Re(c),[g,p]=Re(n);return{delay:a,duration:t,easing:r,css:(_,l)=>`
			transform: ${f} translate(${(1-_)*h}${v}, ${(1-_)*g}${p});
			opacity: ${o-i*l}`}}function et(e,{delay:a=0,duration:t=400,easing:r=Ue,start:c=0,opacity:n=0}={}){const s=getComputedStyle(e),u=+s.opacity,o=s.transform==="none"?"":s.transform,f=1-c,i=u*(1-n);return{delay:a,duration:t,easing:r,css:(h,v)=>`
			transform: ${o} scale(${1-f*v});
			opacity: ${u-i*v}
		`}}var at=K('<div class="card-wrapper svelte-1udyrqm" role="button" tabindex="0"><div><div class="card-inner svelte-1udyrqm"><div class="card-front svelte-1udyrqm"><img class="svelte-1udyrqm"/></div> <div class="card-back svelte-1udyrqm"><h2 class="svelte-1udyrqm"> </h2> <div class="card-text svelte-1udyrqm"><!></div></div></div></div></div>');function bt(e,a){se(a,!1);let t=H(a,"card",8),r=H(a,"onClick",8,()=>{}),c=H(a,"scale",8,1),n=H(a,"rotation",8,0);H(a,"onEnlarge",8,()=>{});let s=_e(!1);function u(){Pe(s,!F(s)),r()({card:t(),flipped:F(s)})}re();var o=at(),f=E(o);let i;var h=E(f),v=E(h),g=E(v);b(v);var p=O(v,2),_=E(p),l=E(_,!0);b(_);var d=O(_,2),w=E(d);Ve(w,()=>(L(t()),M(()=>t().texto.replace(/\n/g,"<br>")))),b(d),b(p),b(h),b(f),b(o),B(()=>{Va(o,`transform: scale(${c()??""}) rotate(${n()??""}deg);`),i=te(f,1,"card svelte-1udyrqm",null,i,{flipped:F(s)}),I(g,"src",(L(t()),M(()=>t().imagen))),I(g,"alt",(L(t()),M(()=>t().titulo))),ee(l,(L(t()),M(()=>t().titulo)))}),j("click",o,u),j("keydown",o,y=>y.key==="Enter"&&u()),D(e,o),ne()}function tt(e){return--e*e*e*e*e+1}var rt=K('<div class="card-position svelte-h7vqqj"><i class="fa fa-compass"></i> </div>'),st=K('<div class="modal-overlay svelte-h7vqqj" role="button" tabindex="0"><div class="modal-content svelte-h7vqqj"><button class="close-button svelte-h7vqqj" aria-label="Close"><i class="fa fa-times"></i></button> <div class="enlarged-card svelte-h7vqqj"><div class="card-image svelte-h7vqqj"><img class="svelte-h7vqqj"/></div> <div class="card-content svelte-h7vqqj"><h2 class="svelte-h7vqqj"> </h2> <div class="card-text svelte-h7vqqj"><!></div> <!></div></div></div></div>');function Et(e,a){se(a,!1);let t=H(a,"card",8,null),r=H(a,"onClose",8,()=>{});function c(f){f.target===f.currentTarget&&r()()}function n(f){f.key==="Escape"&&r()()}re();var s=Xe(),u=Ma(s);{var o=f=>{var i=st(),h=E(i),v=E(h),g=O(v,2),p=E(g),_=E(p);b(p);var l=O(p,2),d=E(l),w=E(d,!0);b(d);var y=O(d,2),A=E(y);Ve(A,()=>(L(t()),M(()=>t().texto.replace(/\n/g,"<br>")))),b(y);var N=O(y,2);{var S=m=>{var T=rt(),k=O(E(T));b(T),B(()=>ee(k,` ${L(t()),M(()=>t().position)??""}`)),D(m,T)};Ne(N,m=>{L(t()),M(()=>t().position)&&m(S)})}b(l),b(g),b(h),b(i),B(()=>{I(_,"src",(L(t()),M(()=>t().imagen))),I(_,"alt",(L(t()),M(()=>t().titulo))),ee(w,(L(t()),M(()=>t().titulo)))}),j("click",v,function(...m){var T;(T=r())==null||T.apply(this,m)}),Ie(3,h,()=>et,()=>({duration:300,easing:tt})),Ie(3,i,()=>Ja,()=>({duration:200})),j("click",i,c),j("keydown",i,n),D(f,i)};Ne(u,f=>{t()&&f(o)})}D(e,s),ne()}const Q=U("es"),We=U({naturaleza:!0,fluir:!0,tecnologia:!0}),nt=U([]),it=U([]),ot=U("intro");async function wt(){try{const a=await(await fetch("/cartas.json?v="+new Date().getTime())).json();return it.set(a),a}catch(e){return console.error("Error loading cards:",e),[]}}function lt(e){We.update(a=>({...a,[e]:!a[e]}))}function yt(e,a,t){const r=Object.entries(a).filter(([s,u])=>u).map(([s])=>s),c=e.filter(s=>r.includes(s.lente));if(c.length===0)return null;const n=c[Math.floor(Math.random()*c.length)];return{...n,titulo:t==="es"?n.titulo:n.titulo_pt,texto:t==="es"?n.texto:n.texto_pt,imagen:t==="es"?n.imagen:n.imagen_pt}}function At(){nt.set([]),ot.set("intro")}var ft=K('<div class="lens-item svelte-m90p2z"><button><img class="svelte-m90p2z"/></button> <div class="lens-label svelte-m90p2z"> </div></div>'),ct=K('<div class="lens-selector svelte-m90p2z"></div>');function Tt(e,a){se(a,!1);const t=()=>Ke(We,"$lentesActivos",r),[r,c]=Be(),n=[{id:"naturaleza",icon:"/img/iconos/icono_naturaleza.png",alt:"Naturaleza"},{id:"fluir",icon:"/img/iconos/icono_fluir.png",alt:"Fluir"},{id:"tecnologia",icon:"/img/iconos/icono_tecnologia.png",alt:"TecnologÃ­a"}];function s(f){lt(f)}function u(f,i){return`/img/iconos/icono_${f}${i?"":"_apagado"}.png`}re();var o=ct();$a(o,5,()=>n,Ra,(f,i)=>{let h=()=>F(i).id,v=()=>F(i).alt;var g=ft(),p=E(g);let _;var l=E(p);b(p);var d=O(p,2),w=E(d,!0);b(d),b(g),B(y=>{_=te(p,1,"lens-button svelte-m90p2z",null,_,{active:t()[h()]}),I(p,"title",v()),I(p,"aria-label",v()),I(p,"aria-pressed",t()[h()]),I(l,"src",y),I(l,"alt",v()),ee(w,v())},[()=>u(h(),t()[h()])]),j("click",p,()=>s(h())),D(f,g)}),b(o),D(e,o),ne(),c()}var ut=K('<div class="language-switch svelte-1v2j48r"><button aria-label="EspaÃ±ol">ðŸ‡ªðŸ‡¸</button> <label class="switch svelte-1v2j48r"><input type="checkbox" aria-label="Toggle language" class="svelte-1v2j48r"/> <span class="slider svelte-1v2j48r"></span></label> <button aria-label="PortuguÃªs">ðŸ‡§ðŸ‡·</button></div>');function Ct(e,a){se(a,!1);const t=()=>Ke(Q,"$idioma",r),[r,c]=Be();let n=_e(!1);Q.subscribe(_=>{Pe(n,_==="pt")});function s(){Q.update(_=>_==="es"?"pt":"es")}function u(_){Q.set(_)}re();var o=ut(),f=E(o);let i;var h=O(f,2),v=E(h);Wa(v),Ia(2),b(h);var g=O(h,2);let p;b(o),B(()=>{i=te(f,1,"flag-button svelte-1v2j48r",null,i,{active:t()==="es"}),Xa(v,F(n)),p=te(g,1,"flag-button svelte-1v2j48r",null,p,{active:t()==="pt"})}),j("click",f,()=>u("es")),j("change",v,s),j("click",g,()=>u("pt")),D(e,o),ne(),c()}export{Et as C,Tt as L,Ct as a,nt as b,ot as c,yt as d,We as e,it as f,Ja as g,$a as h,Q as i,bt as j,mt as k,wt as l,Ve as m,Ra as n,At as r,te as s,Ie as t};
