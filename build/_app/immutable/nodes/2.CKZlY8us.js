import{a as h,f as g}from"../chunks/b3-Pe2so.js";import{i as za}from"../chunks/BXPxOHRk.js";import{p as Da,o as Sa,l as J,a as Aa,t as ua,b as qa,s as o,g as s,c as t,r as e,d as r,u as K,m as f,e as Ia,f as Fa,h as Ha,n as Oa}from"../chunks/DuSW7asp.js";import{e as c,s as Ra}from"../chunks/BiHBEveS.js";import{i as j,s as Ua,a as $}from"../chunks/DXT5HSOw.js";import{C as Ba,L as Ga,a as Ja,l as Ka,s as Qa,i as Wa,c as L,b as V,d as Xa,r as Ya,e as Za,f as at,t as Q,g as tt,h as et,j as st,k as da,m as W}from"../chunks/DVO3rl4H.js";var rt=g('<button class="more-button svelte-1uha8ag">➔ Conocer más sobre Ludopoiesis</button>'),ot=g('<button class="less-button svelte-1uha8ag">◁ Ver menos</button>'),nt=g('<div class="intro-text svelte-1uha8ag"><!> <!></div> <div class="spread-selector svelte-1uha8ag"><h2 class="svelte-1uha8ag">Elige tu tipo de lectura</h2> <div class="spread-options svelte-1uha8ag"><button class="spread-option svelte-1uha8ag"><i class="fa fa-square svelte-1uha8ag"></i> <h3 class="svelte-1uha8ag">Carta Única</h3> <p class="svelte-1uha8ag">Una respuesta directa y clara</p></button> <a href="/three-card" class="spread-option svelte-1uha8ag"><i class="fa fa-layer-group svelte-1uha8ag"></i> <h3 class="svelte-1uha8ag">3 Cartas</h3> <p class="svelte-1uha8ag">Pasado, Presente y Futuro</p></a></div></div>',1),lt=g('<div class="intro-text svelte-1uha8ag"><!> <button class="back-button svelte-1uha8ag">◁ Volver al inicio</button></div>'),it=g('<div class="intro-text svelte-1uha8ag"><!> <button class="back-button svelte-1uha8ag">◁ Volver al inicio</button></div>'),vt=g('<div class="intro-section svelte-1uha8ag"><!></div>'),ct=g("<div><!></div>"),ut=g('<div class="cards-container svelte-1uha8ag"><!> <div class="mobile-card-actions svelte-1uha8ag"><button class="btn btn-primary svelte-1uha8ag"><i class="fa fa-sparkles"></i> </button> <a href="/three-card" class="btn btn-secondary svelte-1uha8ag"><i class="fa fa-layer-group"></i> </a></div></div>'),dt=g('<div><header class="header svelte-1uha8ag"><h1 class="svelte-1uha8ag"><span class="title-main svelte-1uha8ag">Ludopoiesis</span> <span class="title-sub svelte-1uha8ag">Oráculo para jugar la vida</span></h1></header> <main class="main-content svelte-1uha8ag"><!> <!></main> <!> <aside class="control-panel svelte-1uha8ag"><div class="control-inner svelte-1uha8ag"><div class="instructions svelte-1uha8ag"><div class="step svelte-1uha8ag"><h3 class="svelte-1uha8ag">1. Haz una pregunta <button class="info-icon svelte-1uha8ag" title="¿Cómo hacer una buena pregunta?"><i class="fa fa-info-circle"></i></button></h3></div> <div class="step svelte-1uha8ag"><h3 class="svelte-1uha8ag">2. Escoge tus lentes <button class="info-icon svelte-1uha8ag" title="Ver más sobre los lentes"><i class="fa fa-info-circle"></i></button></h3></div> <div class="lens-section svelte-1uha8ag"><!></div> <div class="step svelte-1uha8ag"><h3 class="svelte-1uha8ag">3. Tira una carta</h3></div> <div class="action-buttons svelte-1uha8ag"><button class="btn btn-primary svelte-1uha8ag"><i class="fa fa-sparkles"></i> Sacar Carta</button> <button class="btn btn-secondary svelte-1uha8ag"><i class="fa fa-rotate-right"></i> Nuevo</button></div> <div class="language-section svelte-1uha8ag"><!></div></div></div></aside></div>');function mt(ha,ga){Da(ga,!1);const fa=()=>$(at,"$cartasData",k),_a=()=>$(Za,"$lentesActivos",k),d=()=>$(Wa,"$idioma",k),E=()=>$(L,"$currentView",k),z=()=>$(V,"$cartasLanzadas",k),[k,pa]=Ua(),X=f(),Y=f(),Z=f();let _=f({}),b=f(!0),p=f(!1),D=f(null),S=f(!1);Sa(async()=>{await Ka(),await ba()});async function ba(){try{const a=await fetch("/textos.json");o(_,await a.json())}catch(a){console.error("Error loading texts:",a)}}function A(){const a=Xa(fa(),_a(),d());if(!a){alert(d()==="es"?"No hay lentes activados. Por favor, activa al menos uno.":"Nenhuma lente ativada. Por favor, ative pelo menos uma.");return}o(b,!1),V.set([a]),L.set("cards"),o(S,!0)}function ma(){Ya(),o(b,!0),o(p,!1),o(S,!1)}function q(){o(b,!0),o(p,!1),L.set("intro"),V.set([])}function xa(){o(b,!0),L.set("pregunta"),V.set([])}function Ca(){o(b,!0),L.set("lentes"),V.set([])}function ka(a){o(D,a)}function ya(){o(D,null)}J(()=>(s(_),s(p),d()),()=>{var a,l;o(X,((l=(a=s(_).intro)==null?void 0:a[s(p)?"long":"short"])==null?void 0:l[d()])||"")}),J(()=>(s(_),d()),()=>{var a;o(Y,((a=s(_).pregunta)==null?void 0:a[d()])||"")}),J(()=>(s(_),d()),()=>{var a;o(Z,((a=s(_).lentes)==null?void 0:a[d()])||"")}),Aa(),za();var T=dt();let aa;var I=t(T),wa=t(I);e(I);var F=r(I,2),ta=t(F);{var $a=a=>{var l=vt(),M=t(l);{var N=i=>{var v=nt(),n=Ha(v),u=t(n);W(u,()=>s(X));var y=r(u,2);{var x=C=>{var w=rt();c("click",w,()=>o(p,!0)),h(C,w)},G=C=>{var w=ot();c("click",w,()=>o(p,!1)),h(C,w)};j(y,C=>{s(p)?C(G,!1):C(x)})}e(n);var P=r(n,2),ca=r(t(P),2),ja=t(ca);Oa(2),e(ca),e(P),c("click",ja,A),h(i,v)},m=i=>{var v=lt(),n=t(v);W(n,()=>s(Y));var u=r(n,2);e(v),c("click",u,q),h(i,v)},B=i=>{var v=it(),n=t(v);W(n,()=>s(Z));var u=r(n,2);e(v),c("click",u,q),h(i,v)};j(M,i=>{E()==="intro"?i(N):E()==="pregunta"?i(m,1):E()==="lentes"&&i(B,2)})}e(l),Q(3,l,()=>tt,()=>({duration:300})),h(a,l)};j(ta,a=>{s(b)&&E()!=="cards"&&a($a)})}var La=r(ta,2);{var Va=a=>{var l=ut(),M=t(l);et(M,3,z,(n,u)=>n.id+u,(n,u,y)=>{var x=ct(),G=t(x);{let P=Ia(()=>(Fa(s(y)),K(()=>Math.max(.85,1-s(y)*.05))));st(G,{get card(){return s(u)},get scale(){return s(P)},rotation:K(()=>Math.random()*6-3),onEnlarge:ka})}e(x),Q(3,x,()=>da,()=>({x:-50,delay:s(y)*100,duration:400})),h(n,x)});var N=r(M,2),m=t(N),B=r(t(m));e(m);var i=r(m,2),v=r(t(i));v.nodeValue=" 3 Cartas",e(i),e(N),e(l),ua(()=>Ra(B,` ${d()==="es"?"Nueva Carta":"Nova Carta"}`)),c("click",m,A),Q(3,l,()=>da,()=>({y:50,duration:400})),h(a,l)};j(La,a=>{z(),K(()=>z().length>0)&&a(Va)})}e(F);var ea=r(F,2);Ba(ea,{get card(){return s(D)},onClose:ya});var sa=r(ea,2),ra=t(sa),oa=t(ra),H=t(oa),na=t(H),Ea=r(t(na));e(na),e(H);var O=r(H,2),la=t(O),Ta=r(t(la));e(la),e(O);var R=r(O,2),Ma=t(R);Ga(Ma,{}),e(R);var U=r(R,4),ia=t(U),Na=r(ia,2);e(U);var va=r(U,2),Pa=t(va);Ja(Pa,{}),e(va),e(oa),e(ra),e(sa),e(T),ua(()=>aa=Qa(T,1,"page-container svelte-1uha8ag",null,aa,{"mobile-card-shown":s(S)})),c("click",wa,q),c("click",Ea,xa),c("click",Ta,Ca),c("click",ia,A),c("click",Na,ma),h(ha,T),qa(),pa()}export{mt as component};
